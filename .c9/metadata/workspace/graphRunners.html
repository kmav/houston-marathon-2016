{"filter":false,"title":"graphRunners.html","tooltip":"/graphRunners.html","undoManager":{"mark":16,"position":16,"stack":[[{"start":{"row":0,"column":0},"end":{"row":121,"column":9},"action":"insert","lines":["<!DOCTYPE html>","<meta charset=\"utf-8\">","<style>","","body {","  font: 10px sans-serif;","}","",".axis path,",".axis line {","  fill: none;","  stroke: #000;","  shape-rendering: crispEdges;","}","",".x.axis path {","  display: none;","}","",".line {","  fill: none;","  stroke: steelblue;","  stroke-width: 1.5px;","}","","</style>","<body>","<script src=\"//d3js.org/d3.v3.min.js\"></script>","<script>","","var margin = {top: 20, right: 80, bottom: 30, left: 50},","    width = 960 - margin.left - margin.right,","    height = 500 - margin.top - margin.bottom;","","var parseDate = d3.time.format(\"%Y%m%d\").parse;","","var x = d3.time.scale()","    .range([0, width]);","","var y = d3.scale.linear()","    .range([height, 0]);","","var color = d3.scale.category10();","","var xAxis = d3.svg.axis()","    .scale(x)","    .orient(\"bottom\");","","var yAxis = d3.svg.axis()","    .scale(y)","    .orient(\"left\");","","var line = d3.svg.line()","    .interpolate(\"basis\")","    .x(function(d) { return x(d.date); })","    .y(function(d) { return y(d.temperature); });","","var svg = d3.select(\"body\").append(\"svg\")","    .attr(\"width\", width + margin.left + margin.right)","    .attr(\"height\", height + margin.top + margin.bottom)","  .append(\"g\")","    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");","","d3.tsv(\"data.tsv\", function(error, data) {","  if (error) throw error;","","  color.domain(d3.keys(data[0]).filter(function(key) { return key !== \"date\"; }));","","  data.forEach(function(d) {","    d.date = parseDate(d.date);","  });","","  var cities = color.domain().map(function(name) {","    return {","      name: name,","      values: data.map(function(d) {","        return {date: d.date, temperature: +d[name]};","      })","    };","  });","","  x.domain(d3.extent(data, function(d) { return d.date; }));","","  y.domain([","    d3.min(cities, function(c) { return d3.min(c.values, function(v) { return v.temperature; }); }),","    d3.max(cities, function(c) { return d3.max(c.values, function(v) { return v.temperature; }); })","  ]);","","  svg.append(\"g\")","      .attr(\"class\", \"x axis\")","      .attr(\"transform\", \"translate(0,\" + height + \")\")","      .call(xAxis);","","  svg.append(\"g\")","      .attr(\"class\", \"y axis\")","      .call(yAxis)","    .append(\"text\")","      .attr(\"transform\", \"rotate(-90)\")","      .attr(\"y\", 6)","      .attr(\"dy\", \".71em\")","      .style(\"text-anchor\", \"end\")","      .text(\"Temperature (ºF)\");","","  var city = svg.selectAll(\".city\")","      .data(cities)","    .enter().append(\"g\")","      .attr(\"class\", \"city\");","","  city.append(\"path\")","      .attr(\"class\", \"line\")","      .attr(\"d\", function(d) { return line(d.values); })","      .style(\"stroke\", function(d) { return color(d.name); });","","  city.append(\"text\")","      .datum(function(d) { return {name: d.name, value: d.values[d.values.length - 1]}; })","      .attr(\"transform\", function(d) { return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\"; })","      .attr(\"x\", 3)","      .attr(\"dy\", \".35em\")","      .text(function(d) { return d.name; });","});","","</script>"],"id":93}],[{"start":{"row":27,"column":0},"end":{"row":28,"column":0},"action":"remove","lines":["<script src=\"//d3js.org/d3.v3.min.js\"></script>",""],"id":94},{"start":{"row":27,"column":0},"end":{"row":28,"column":0},"action":"insert","lines":["        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js\" charset=\"utf-8\"></script>",""]}],[{"start":{"row":27,"column":6},"end":{"row":27,"column":8},"action":"remove","lines":["  "],"id":95}],[{"start":{"row":27,"column":0},"end":{"row":27,"column":6},"action":"remove","lines":["      "],"id":96}],[{"start":{"row":63,"column":8},"end":{"row":63,"column":12},"action":"remove","lines":["data"],"id":187},{"start":{"row":63,"column":8},"end":{"row":63,"column":9},"action":"insert","lines":["d"]}],[{"start":{"row":63,"column":9},"end":{"row":63,"column":10},"action":"insert","lines":["a"],"id":188}],[{"start":{"row":63,"column":10},"end":{"row":63,"column":11},"action":"insert","lines":["t"],"id":189}],[{"start":{"row":63,"column":11},"end":{"row":63,"column":12},"action":"insert","lines":["a"],"id":190}],[{"start":{"row":63,"column":12},"end":{"row":63,"column":13},"action":"insert","lines":["/"],"id":191}],[{"start":{"row":63,"column":13},"end":{"row":63,"column":14},"action":"insert","lines":["r"],"id":192}],[{"start":{"row":63,"column":14},"end":{"row":63,"column":15},"action":"insert","lines":["u"],"id":193}],[{"start":{"row":63,"column":15},"end":{"row":63,"column":16},"action":"insert","lines":["n"],"id":194}],[{"start":{"row":63,"column":16},"end":{"row":63,"column":17},"action":"insert","lines":["n"],"id":195}],[{"start":{"row":63,"column":17},"end":{"row":63,"column":18},"action":"insert","lines":["e"],"id":196}],[{"start":{"row":63,"column":18},"end":{"row":63,"column":19},"action":"insert","lines":["r"],"id":197}],[{"start":{"row":63,"column":19},"end":{"row":63,"column":20},"action":"insert","lines":["s"],"id":198}],[{"start":{"row":0,"column":0},"end":{"row":121,"column":9},"action":"remove","lines":["<!DOCTYPE html>","<meta charset=\"utf-8\">","<style>","","body {","  font: 10px sans-serif;","}","",".axis path,",".axis line {","  fill: none;","  stroke: #000;","  shape-rendering: crispEdges;","}","",".x.axis path {","  display: none;","}","",".line {","  fill: none;","  stroke: steelblue;","  stroke-width: 1.5px;","}","","</style>","<body>","<script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js\" charset=\"utf-8\"></script>","<script>","","var margin = {top: 20, right: 80, bottom: 30, left: 50},","    width = 960 - margin.left - margin.right,","    height = 500 - margin.top - margin.bottom;","","var parseDate = d3.time.format(\"%Y%m%d\").parse;","","var x = d3.time.scale()","    .range([0, width]);","","var y = d3.scale.linear()","    .range([height, 0]);","","var color = d3.scale.category10();","","var xAxis = d3.svg.axis()","    .scale(x)","    .orient(\"bottom\");","","var yAxis = d3.svg.axis()","    .scale(y)","    .orient(\"left\");","","var line = d3.svg.line()","    .interpolate(\"basis\")","    .x(function(d) { return x(d.date); })","    .y(function(d) { return y(d.temperature); });","","var svg = d3.select(\"body\").append(\"svg\")","    .attr(\"width\", width + margin.left + margin.right)","    .attr(\"height\", height + margin.top + margin.bottom)","  .append(\"g\")","    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");","","d3.tsv(\"data/runners.tsv\", function(error, data) {","  if (error) throw error;","","  color.domain(d3.keys(data[0]).filter(function(key) { return key !== \"date\"; }));","","  data.forEach(function(d) {","    d.date = parseDate(d.date);","  });","","  var cities = color.domain().map(function(name) {","    return {","      name: name,","      values: data.map(function(d) {","        return {date: d.date, temperature: +d[name]};","      })","    };","  });","","  x.domain(d3.extent(data, function(d) { return d.date; }));","","  y.domain([","    d3.min(cities, function(c) { return d3.min(c.values, function(v) { return v.temperature; }); }),","    d3.max(cities, function(c) { return d3.max(c.values, function(v) { return v.temperature; }); })","  ]);","","  svg.append(\"g\")","      .attr(\"class\", \"x axis\")","      .attr(\"transform\", \"translate(0,\" + height + \")\")","      .call(xAxis);","","  svg.append(\"g\")","      .attr(\"class\", \"y axis\")","      .call(yAxis)","    .append(\"text\")","      .attr(\"transform\", \"rotate(-90)\")","      .attr(\"y\", 6)","      .attr(\"dy\", \".71em\")","      .style(\"text-anchor\", \"end\")","      .text(\"Temperature (ºF)\");","","  var city = svg.selectAll(\".city\")","      .data(cities)","    .enter().append(\"g\")","      .attr(\"class\", \"city\");","","  city.append(\"path\")","      .attr(\"class\", \"line\")","      .attr(\"d\", function(d) { return line(d.values); })","      .style(\"stroke\", function(d) { return color(d.name); });","","  city.append(\"text\")","      .datum(function(d) { return {name: d.name, value: d.values[d.values.length - 1]}; })","      .attr(\"transform\", function(d) { return \"translate(\" + x(d.value.date) + \",\" + y(d.value.temperature) + \")\"; })","      .attr(\"x\", 3)","      .attr(\"dy\", \".35em\")","      .text(function(d) { return d.name; });","});","","</script>"],"id":199},{"start":{"row":0,"column":0},"end":{"row":100,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<meta charset=\"utf-8\">","<style> /* set the CSS */","","body { font: 12px Arial;}","","path { ","    stroke: steelblue;","    stroke-width: 2;","    fill: none;","}","",".axis path,",".axis line {","    fill: none;","    stroke: grey;","    stroke-width: 1;","    shape-rendering: crispEdges;","}","","</style>","<body>","","<!-- load the d3.js library -->    ","<script src=\"http://d3js.org/d3.v3.min.js\"></script>","","<script>","","// Set the dimensions of the canvas / graph","var margin = {top: 30, right: 20, bottom: 30, left: 50},","    width = 600 - margin.left - margin.right,","    height = 270 - margin.top - margin.bottom;","","// Parse the date / time","//var parseDate = d3.time.format(\"%b %Y\").parse; ","","// Set the ranges","var x = d3.time.scale().range([0, width]);","var y = d3.scale.linear().range([height, 0]);","","// Define the axes","var xAxis = d3.svg.axis().scale(x)","    .orient(\"bottom\").ticks(5);","","var yAxis = d3.svg.axis().scale(y)","    .orient(\"left\").ticks(5);","","// Define the line","var priceline = d3.svg.line()","    .x(function(d) { return x(d.date); })","    .y(function(d) { return y(d.price); });","    ","// Adds the svg canvas","var svg = d3.select(\"body\")","    .append(\"svg\")","        .attr(\"width\", width + margin.left + margin.right)","        .attr(\"height\", height + margin.top + margin.bottom)","    .append(\"g\")","        .attr(\"transform\", ","              \"translate(\" + margin.left + \",\" + margin.top + \")\");","","// Get the data","d3.csv(\"stocks.csv\", function(error, data) {","    data.forEach(function(d) {","\t\td.date = parseDate(d.date);","\t\td.price = +d.price;","    });","","    // Scale the range of the data","    x.domain(d3.extent(data, function(d) { return d.date; }));","    y.domain([0, d3.max(data, function(d) { return d.price; })]); ","","    // Nest the entries by symbol","    var dataNest = d3.nest()","        .key(function(d) {return d.symbol;})","        .entries(data);","","    // Loop through each symbol / key","    dataNest.forEach(function(d) {","","        svg.append(\"path\")","            .attr(\"class\", \"line\")","            .attr(\"d\", priceline(d.values)); ","","    });","","    // Add the X Axis","    svg.append(\"g\")","        .attr(\"class\", \"x axis\")","        .attr(\"transform\", \"translate(0,\" + height + \")\")","        .call(xAxis);","","    // Add the Y Axis","    svg.append(\"g\")","        .attr(\"class\", \"y axis\")","        .call(yAxis);","","});","","</script>","</body>"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":12},"end":{"row":13,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1451975458000,"hash":"1481b0ed7863f017c1a23c36cf4f85cfba102ad7"}